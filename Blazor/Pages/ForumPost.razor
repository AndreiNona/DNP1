@page "/ForumPost/{index:int}"
@using Contracts
@using Entities
@inject IPostService PostService

@if (post == null)
{
    OpenPost();
}
<PageTitle>@post.title</PageTitle>
@if (post != null)
{
    <section class="content">
        <h2>@post.title</h2>
        <h3>@post.subtitle</h3>
        <br/>
        <p>
            @post.content
        </p>
    </section>
}

@code {
    
    [Parameter]
    public int index { get; set; }

    private Post post;

    private async void OpenPost()
    {
        ICollection<Post> posts = null;
        posts = await PostService.GetAsync();

        foreach (var item in posts)
        {
            if (item.ID == index)
            {
                post = item;
            }
        }
    }
}